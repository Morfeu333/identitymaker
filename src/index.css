/* Import Inter font for Futuristic Dark Mode */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Identity Shift Blueprint - Assessment System Design */

@layer base {
  :root {
    /* DEFAULT THEME - Futuristic Dark (Main Theme) */
    /* Background System - Dark Navy */
    --background: 215 25% 9%;              /* #10151f - Deep Navy Background */
    --foreground: 0 0% 95%;                /* #f2f2f2 - Light Gray Text */

    --card: 215 25% 11%;                   /* #1a1e2b - Dark Blue Cards */
    --card-foreground: 0 0% 95%;           /* #f2f2f2 - Light Gray Text */

    --popover: 215 25% 11%;                /* #1a1e2b */
    --popover-foreground: 0 0% 95%;        /* #f2f2f2 */

    /* Primary Accent (Cyan) */
    --primary: 191 100% 50%;               /* #00d3ff - Vibrant Cyan */
    --primary-foreground: 215 25% 9%;      /* #10151f - Dark text for high contrast on cyan */
    --primary-hover: 191 100% 45%;         /* Darker cyan on hover */

    /* Secondary Accent (Yellow) */
    --secondary: 45 98% 62%;               /* #fecb38 - Bright Yellow */
    --secondary-foreground: 215 25% 9%;    /* #10151f - Dark text for high contrast on yellow */

    /* Muted Colors */
    --muted: 215 25% 25%;                  /* #333c4d */
    --muted-foreground: 0 0% 63%;          /* #a0a0a0 - Medium Gray */

    /* General Accent (Used for hovers, etc.) */
    --accent: 215 25% 15%;                 /* #202633 */
    --accent-foreground: 0 0% 95%;         /* #f2f2f2 */

    /* Semantic Colors */
    --destructive: 350 90% 60%;            /* #f64c63 - Vibrant Red */
    --destructive-foreground: 0 0% 95%;    /* #f2f2f2 */
    --warning: 45 98% 62%;                 /* #fecb38 - Bright Yellow */
    --warning-foreground: 215 25% 9%;      /* #10151f */
    --success: 191 100% 50%;               /* #00d3ff - Cyan success */
    --success-foreground: 215 25% 9%;      /* #10151f */

    /* Border & Input System */
    --border: 215 25% 20%;                 /* #293040 */
    --input: 215 25% 15%;                  /* #202633 */
    --ring: 191 100% 50%;                  /* #00d3ff - Cyan focus ring */

    /* Futuristic Gradients */
    --gradient-hero: linear-gradient(135deg, hsl(215 25% 12%), hsl(215 25% 9%));
    --gradient-card: linear-gradient(145deg, hsl(215 25% 15%), hsl(215 25% 11%));
    --gradient-button: linear-gradient(135deg, hsl(191 100% 50%), hsl(191 100% 60%));

    /* Futuristic Glow Shadows */
    --shadow-card: 0 0 15px hsl(191 100% 50% / 0.2);
    --shadow-button: 0 0 10px hsl(191 100% 50% / 0.4);
    --shadow-glow-lg: 0 0 25px hsl(191 100% 50% / 0.3);
    --shadow-glow-md: 0 0 15px hsl(191 100% 50% / 0.2);
    --shadow-glow-sm: 0 0 8px hsl(191 100% 50% / 0.15);

    /* Assessment System Specific - Futuristic Override */
    --assessment-bg: 215 25% 9%;           /* Dark navy background */
    --assessment-card-bg: 215 25% 11%;     /* Dark blue cards */
    --assessment-border: 191 100% 50%;     /* Cyan borders */
    --assessment-hover: 215 25% 15%;       /* Slightly lighter on hover */

    --radius: 0.5rem;

    /* Sidebar - Futuristic */
    --sidebar-background: 215 25% 9%;
    --sidebar-foreground: 0 0% 95%;
    --sidebar-primary: 191 100% 50%;
    --sidebar-primary-foreground: 215 25% 9%;
    --sidebar-accent: 215 25% 15%;
    --sidebar-accent-foreground: 0 0% 95%;
    --sidebar-border: 215 25% 20%;
    --sidebar-ring: 191 100% 50%;
  }

  .theme-dark {
    /* Dark Theme - Assessment System Dark Theme (Alternative) */
    --background: 210 24% 8%;
    --foreground: 210 8% 92%;

    --card: 210 24% 10%;
    --card-foreground: 210 8% 92%;

    --popover: 210 24% 10%;
    --popover-foreground: 210 8% 92%;

    --primary: 25 22% 44%; /* Lighter brown for dark mode */
    --primary-foreground: 210 24% 8%;
    --primary-hover: 25 22% 34%;

    --secondary: 210 24% 12%;
    --secondary-foreground: 25 22% 44%;

    --muted: 210 24% 12%;
    --muted-foreground: 210 8% 62%;

    --accent: 25 22% 44%;
    --accent-foreground: 210 24% 8%;

    --success: 134 61% 51%;
    --success-foreground: 210 24% 8%;

    --destructive: 0 84% 60%;
    --destructive-foreground: 210 24% 8%;

    --border: 210 24% 16%;
    --input: 210 24% 16%;
    --ring: 25 22% 44%;

    --form-builder-bg: 210 24% 10%;
    --form-field-bg: 210 24% 12%;
    --form-field-border: 210 24% 16%;
    --drag-hover: 210 24% 14%;

    --gradient-hero: linear-gradient(135deg, hsl(213 94% 58%), hsl(266 85% 48%));
    --gradient-card: linear-gradient(145deg, hsl(210 24% 10%), hsl(210 24% 12%));
    --gradient-button: linear-gradient(135deg, hsl(213 94% 68%), hsl(213 94% 58%));

    --shadow-form: 0 4px 20px hsl(0 0% 0% / 0.3);
    --shadow-card: 0 2px 8px hsl(0 0% 0% / 0.2);
    --shadow-button: 0 2px 4px hsl(213 94% 68% / 0.3);
    --sidebar-background: 240 5.9% 10%;
    --sidebar-foreground: 240 4.8% 95.9%;
    --sidebar-primary: 224.3 76.3% 48%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 240 3.7% 15.9%;
    --sidebar-accent-foreground: 240 4.8% 95.9%;
    --sidebar-border: 240 3.7% 15.9%;
    --sidebar-ring: 217.2 91.2% 59.8%;
  }


}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground antialiased;
    font-family: 'Inter', sans-serif;
    /* Enhanced mobile scrolling */
    -webkit-overflow-scrolling: touch;
    /* Prevent horizontal scroll on mobile */
    overflow-x: hidden;
  }



  /* Futuristic Dark Mode Utility Classes */
  .glass-effect {
    background: rgba(26, 30, 43, 0.9);
    backdrop-filter: blur(15px);
    -webkit-backdrop-filter: blur(15px);
    border: 2px solid hsl(var(--primary));
    border-radius: 16px;
    box-shadow:
      0 0 20px hsl(var(--primary) / 0.15),
      inset 0 0 15px hsl(var(--primary) / 0.05);
  }

  .grid-background {
    background-image:
      linear-gradient(rgba(0, 211, 255, 0.1) 1px, transparent 1px),
      linear-gradient(90deg, rgba(0, 211, 255, 0.1) 1px, transparent 1px);
    background-size: 40px 40px;
    animation: gridPulse 6s ease-in-out infinite;
  }

  @keyframes gridPulse {
    0%, 100% { opacity: 0.05; }
    50% { opacity: 0.15; }
  }

  .card-glow:hover {
    box-shadow: var(--shadow-glow-md);
    border-color: hsl(var(--primary) / 0.5);
    transform: translateY(-2px);
  }

  .button-glow:hover {
    box-shadow: var(--shadow-glow-lg);
    transform: translateY(-1px) scale(1.02);
  }

  /* Assessment System Animations */
  .assessment-card-animate {
    @apply transition-all duration-200 ease-in-out;
  }

  .assessment-card-animate:hover {
    @apply scale-[1.02] shadow-lg;
  }

  .form-field-animate {
    @apply transition-all duration-200 ease-in-out;
  }

  .form-field-animate:hover {
    @apply scale-105 shadow-md;
  }

  .drag-over {
    @apply bg-assessment-hover border-primary border-dashed;
  }

  /* Assessment System Progress Indicators */
  .progress-indicator {
    @apply transition-all duration-300 ease-in-out;
  }

  /* Assessment System Button Styles */
  .assessment-button {
    @apply bg-primary text-primary-foreground hover:bg-primary-hover;
    @apply transition-all duration-200 ease-in-out;
    @apply shadow-button-custom hover:shadow-lg;
  }

  /* Assessment System Card Styles */
  .assessment-card {
    @apply bg-card border border-border rounded-lg shadow-card;
    @apply transition-all duration-200 ease-in-out;
  }

  .assessment-card:hover {
    @apply shadow-lg border-primary/20;
  }

  /* Typography Hierarchy - Assessment System */
  .assessment-title {
    @apply text-2xl font-black text-foreground; /* Extra bold black text */
  }

  .assessment-subtitle {
    @apply text-lg font-semibold text-muted-foreground;
  }

  .assessment-question {
    @apply text-xl font-bold text-foreground leading-relaxed; /* Bold black text */
  }

  /* Pattern Indicators */
  .pattern-indicator {
    @apply w-12 h-12 rounded-full border-2 border-border;
    @apply flex items-center justify-center;
    @apply transition-all duration-300 ease-in-out;
  }

  .pattern-indicator.active {
    @apply border-primary bg-primary text-primary-foreground;
  }

  /* ========================================
     RESPONSIVE IMPROVEMENTS - PHASE 2
     ======================================== */

  /* Touch-friendly button sizing */
  .btn-touch {
    min-height: 44px;
    min-width: 44px;
    padding: 12px 16px;
  }

  /* Enhanced mobile interactions */
  @media (hover: none) and (pointer: coarse) {
    /* Hide scroll bar on mobile */
    * {
      scrollbar-width: none; /* Firefox */
      -ms-overflow-style: none; /* Internet Explorer 10+ */
    }

    *::-webkit-scrollbar {
      display: none; /* WebKit */
    }

    /* Mobile-specific styles - disable hover effects */
    .hover\:scale-105:hover {
      transform: none;
    }

    .card-glow:hover {
      transform: none;
      box-shadow: var(--shadow-card);
    }

    .button-glow:hover {
      transform: none;
      box-shadow: var(--shadow-button);
    }

    /* Disable floating effects on mobile */
    .float-animation {
      animation: none !important;
      transform: none !important;
    }

    .radio-option:hover {
      transform: none !important;
      background: transparent !important;
    }

    /* Larger touch targets on mobile */
    button, .btn, [role="button"] {
      min-height: 44px;
      padding: 12px 16px;
    }

    /* Enhanced radio buttons for mobile */
    .radio-option {
      min-height: 60px;
      padding: 16px;
      touch-action: manipulation;
    }

    /* Reduce animations on mobile for performance */
    .grid-background {
      animation: none;
    }

    /* Better mobile form interactions */
    input, textarea, select {
      font-size: 16px; /* Prevent zoom on iOS */
    }
  }

  /* Improved focus states for accessibility */
  .focus-visible\:ring-2:focus-visible {
    outline: 2px solid hsl(var(--primary));
    outline-offset: 2px;
  }

  /* Smooth scrolling for better UX */
  html {
    scroll-behavior: smooth;
  }

  /* Enhanced mobile viewport handling */
  @media screen and (max-width: 768px) {
    .container {
      padding-left: 1rem;
      padding-right: 1rem;
    }

    /* Better mobile spacing */
    .space-y-6 > * + * {
      margin-top: 1rem;
    }

    .space-y-8 > * + * {
      margin-top: 1.5rem;
    }

    /* Mobile-optimized glass effects - remove floating */
    .glass-effect {
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      animation: none !important;
      transform: none !important;
    }

    /* Enhanced mobile radio buttons */
    .radio-option {
      padding: 20px 16px;
      border-width: 2px;
      border-radius: 12px;
      min-height: 64px;
      display: flex;
      align-items: center;
      gap: 16px;
    }

    .radio-option.selected {
      background: rgba(0, 211, 255, 0.15) !important;
      border-color: hsl(var(--primary)) !important;
      transform: none !important;
      box-shadow: 0 0 0 2px hsl(var(--primary) / 0.2) !important;
    }

    /* Larger radio button indicators on mobile */
    [data-radix-collection-item] {
      width: 20px !important;
      height: 20px !important;
      border-width: 2px !important;
    }

    /* Enhanced radio button filled state on mobile */
    [data-radix-collection-item] [data-state="checked"] div {
      width: 12px !important;
      height: 12px !important;
      background-color: hsl(var(--primary)) !important;
    }

    /* Reduce motion for users who prefer it */
    @media (prefers-reduced-motion: reduce) {
      * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
      }
    }
  }

  /* Enhanced tablet styles */
  @media screen and (min-width: 769px) and (max-width: 1024px) {
    .container {
      padding-left: 2rem;
      padding-right: 2rem;
    }
  }

  /* Performance optimizations */
  .will-change-transform {
    will-change: transform;
  }

  .will-change-opacity {
    will-change: opacity;
  }

  /* Better loading states */
  .loading-skeleton {
    background: linear-gradient(90deg,
      hsl(var(--muted)) 25%,
      hsl(var(--muted-foreground) / 0.1) 50%,
      hsl(var(--muted)) 75%
    );
    background-size: 200% 100%;
    animation: loading-shimmer 2s infinite;
  }

  @keyframes loading-shimmer {
    0% { background-position: -200% 0; }
    100% { background-position: 200% 0; }
  }

  /* ========================================
     SMOOTH ANIMATIONS - ENHANCED
     ======================================== */

  /* Page Transition Animations */
  .page-enter {
    opacity: 0;
    transform: translateY(20px);
  }

  .page-enter-active {
    opacity: 1;
    transform: translateY(0);
    transition: opacity 300ms ease-out, transform 300ms ease-out;
  }

  .page-exit {
    opacity: 1;
    transform: translateY(0);
  }

  .page-exit-active {
    opacity: 0;
    transform: translateY(-20px);
    transition: opacity 200ms ease-in, transform 200ms ease-in;
  }

  /* Question Card Animations */
  .question-card-enter {
    opacity: 0;
    transform: translateX(50px) scale(0.95);
  }

  .question-card-enter-active {
    opacity: 1;
    transform: translateX(0) scale(1);
    transition: all 400ms cubic-bezier(0.25, 0.46, 0.45, 0.94);
  }

  /* Radio Button Smooth Animations - Desktop Only */
  @media (min-width: 769px) {
    .radio-option {
      transition: all 200ms cubic-bezier(0.25, 0.46, 0.45, 0.94);
      transform-origin: center;
    }

    .radio-option:hover {
      transform: translateX(8px) scale(1.02);
      background: rgba(0, 211, 255, 0.05);
      border-color: hsl(var(--primary) / 0.6);
    }

    .radio-option.selected {
      transform: translateX(12px) scale(1.03);
      background: rgba(0, 211, 255, 0.1);
      border-color: hsl(var(--primary));
      box-shadow: 0 0 20px hsl(var(--primary) / 0.3);
    }
  }

  /* Mobile radio button base styles */
  .radio-option {
    transition: background-color 200ms ease, border-color 200ms ease;
    cursor: pointer;
  }

  /* Enhanced radio button filled state for all devices */
  [data-radix-collection-item][data-state="checked"] {
    border-color: hsl(var(--primary)) !important;
    background-color: transparent;
  }

  [data-radix-collection-item][data-state="checked"] div {
    background-color: hsl(var(--primary)) !important;
    border-radius: 50%;
  }

  /* Ensure radio button indicator is visible */
  [data-radix-collection-item] [data-radix-radio-indicator] {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 100%;
  }

  /* Progress Bar Smooth Animation */
  .progress-bar {
    transition: width 600ms cubic-bezier(0.25, 0.46, 0.45, 0.94);
    position: relative;
    overflow: hidden;
  }

  .progress-bar::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(90deg,
      transparent,
      rgba(255, 255, 255, 0.2),
      transparent
    );
    transform: translateX(-100%);
    animation: progress-shine 2s infinite;
  }

  @keyframes progress-shine {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(100%); }
  }

  /* Button Navigation Animations */
  .nav-button {
    transition: all 250ms cubic-bezier(0.25, 0.46, 0.45, 0.94);
    position: relative;
    overflow: hidden;
  }

  .nav-button::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 50%;
    transform: translate(-50%, -50%);
    transition: width 300ms ease-out, height 300ms ease-out;
  }

  .nav-button:active::before {
    width: 300px;
    height: 300px;
  }

  /* Floating Animation for Cards */
  .float-animation {
    animation: gentle-float 6s ease-in-out infinite;
  }

  @keyframes gentle-float {
    0%, 100% { transform: translateY(0px) rotate(0deg); }
    33% { transform: translateY(-8px) rotate(0.5deg); }
    66% { transform: translateY(4px) rotate(-0.3deg); }
  }

  /* Stagger Animation for Multiple Elements */
  .stagger-item {
    opacity: 0;
    transform: translateY(30px);
    animation: stagger-in 500ms ease-out forwards;
  }

  .stagger-item:nth-child(1) { animation-delay: 100ms; }
  .stagger-item:nth-child(2) { animation-delay: 200ms; }
  .stagger-item:nth-child(3) { animation-delay: 300ms; }
  .stagger-item:nth-child(4) { animation-delay: 400ms; }
  .stagger-item:nth-child(5) { animation-delay: 500ms; }

  @keyframes stagger-in {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
}